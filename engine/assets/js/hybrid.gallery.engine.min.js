jQuery(function(){"use strict";function a(){jQuery(".hybgl-lightbox").each(function(){var a=jQuery(this),b=a.data("selector"),c=a.data("lightbox"),d=jQuery("."+b),e="a.hybgl-button-action-zoom";"mp"==c?d.find(e).magnificPopup({preloader:!0,tLoading:"",closeOnContentClick:!0,gallery:{enabled:!0},image:{cursor:"mfp-zoom-out-cur",tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(a){var b="",c="";return a.el.attr("title")&&(b=a.el.attr("title")),a.el.data("descr")&&(c="<small>"+a.el.data("descr")+"</small>"),b+c}},mainClass:"mfp-zoom-in",removalDelay:300,callbacks:{beforeOpen:function(){},open:function(){jQuery.magnificPopup.instance.next=function(){var a=this;a.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){jQuery.magnificPopup.proto.next.call(a)},120)},jQuery.magnificPopup.instance.prev=function(){var a=this;a.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){jQuery.magnificPopup.proto.prev.call(a)},120)}},imageLoadComplete:function(){var a=this;setTimeout(function(){a.wrap.addClass("mfp-image-loaded")},16)},close:function(){this.wrap.removeClass("mfp-image-loaded")}}}):"ilb"==c?d.find(e).iLightBox():"cb"==c?(d.find(e+".colorbox-image").colorbox({rel:b,maxWidth:"95%",maxHeight:"95%"}),d.find(e+".colorbox-media").colorbox({rel:b,maxWidth:"95%",maxHeight:"95%",iframe:!0,innerWidth:640,innerHeight:360})):"lg"==c?d.find(".hybgl-container").lightGallery({selector:e}).on("onBeforeOpen.lg",function(a){d.find(e).each(function(){var a=jQuery(this).data("src");jQuery(this).html('<img class="hybgl-popup-link-img" src="'+a+'">')})}).on("onBeforeClose.lg",function(a){d.find(e).each(function(){jQuery(this).html("")})}):"pp"==c?(d.find(e).each(function(){jQuery(this).attr("rel","prettyPhoto[gallery-"+b+"]")}),d.find(e).prettyPhoto({animation_speed:"fast",default_width:640,default_height:360,theme:"pp_default"})):"lc"==c&&(d.find(e).each(function(){jQuery(this).attr("data-rel","lightcase:"+b)}),d.find(e).lightcase({transition:"scrollVertical"}))})}function b(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}jQuery.fn.HybridGalleryGrid=function(c){function h(a,b){var c=JSON.parse(a.design),e=(i(a,b,"align")?i(a,b,"align"):c.align,"hybgl-box-align-"),f=["none","left","center","right"];for(var g in f)b.gallery.hasClass(e+f[g])&&b.gallery.removeClass(e+f[g]);i(a,b,"align")?b.gallery.addClass(e+i(a,b,"align")):b.gallery.addClass(e+c.align),"custom"==i(a,b,"w")?b.cw="%"==i(a,b,"w_un")?b.gw*i(a,b,"w_vl")/100:i(a,b,"w_vl"):(b.cw="pc"==c.w_un?b.gw*c.w_vl/100:c.w_vl,c.w_un="pc"==c.w_un?"%":b.gw*c.w_un),b.gallery.css({width:b.cw})}function i(a,b,c){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,f,g,h,i,d=JSON.parse(a.res.replace(/#/g,'"'));for(var j in d)if("custom"==d[j].w&&b.ww<=j){e=d[j].w,f=d[j].w_vl,g="pc"==d[j].w_un?"%":d[j].w_un;break}for(var k in d)if("auto"!=d[k].cols&&b.ww<=k){h=d[k].cols;break}for(var l in d)if("auto"!=d[l].align&&b.ww<=l){i=d[l].align;break}return"cols"==c?h:"w"==c?e:"w_vl"==c?f:"w_un"==c?g:"align"==c?i:void 0}function j(a,b,c){var e,d=JSON.parse(a.design);"custom"==i(a,b,"w")?b.cw="%"==i(a,b,"w_un")?b.gw*i(a,b,"w_vl")/100:i(a,b,"w_vl"):(b.cw="pc"==d.w_un?b.gw*d.w_vl/100:d.w_vl,d.w_un="pc"==d.w_un?"%":b.gw*d.w_un),e=i(a,b,"cols")?i(a,b,"cols"):a.cols;var f=(b.cw-(e-1)*a.gapX)/e,g="cell"==c?e:f;return g}function k(a,b,c){"resize"==c&&(b.item=b.container.find(".hybgl-item")),b.item.each(function(c){c+=1;var n,o,p,r,d=jQuery(this),e=jQuery(this).find(".hybgl-item-wrapper"),f=jQuery(this).find(".hybgl-item-inner"),g=jQuery(this).find(".hybgl-item-meta"),h=d.data("w"),i=d.data("h"),k=a.ratio[0],l=a.ratio[1],m=j(a,b);if("grid"==a.layout)n=Math.round(j(a,b)*l/k);else if("masonry"==a.layout)n=Math.round(j(a,b)*i/h);else if("metro"==a.layout){n=Math.round(j(a,b)*l/k);var s=2*m+a.gapX,t=3*m+2*a.gapX,v=(4*m+3*a.gapX,2*n+a.gapX),w=3*m+2*a.gapX;4*m+3*a.gapX;1==a.metro_style?(6!=a.cols||(c-1)%15!==0&&(c-4)%15!==0&&(c-9)%15!==0)&&(5!=a.cols||(c-1)%14!==0&&(c-11)%14!==0)&&(4!=a.cols||(c-1)%10!==0&&(c-8)%10!==0)&&(3!=a.cols||(c-1)%6!==0&&(c+1)%6!==0)?2==a.cols&&(c-1)%3===0&&(m=s,n=v):(m=s,n=v):2==a.metro_style?6==a.cols?(c-1)%9===0||(c-6)%9===0?(m=s,n=v):(c-2)%9===0||(c-8)%9===0?m=s:(c-4)%9===0&&(n=v):5==a.cols?(c-1)%9===0||(c+1)%9===0?(m=s,n=v):c%9===0||(c-2)%9===0?m=s:(c-3)%9!==0&&(c-4)%9!==0&&(c-6)%9!==0||(n=v):4==a.cols?(c-1)%10===0||(c-6)%10===0?(m=s,n=v):c%10===0||(c-2)%10===0?m=s:(c-4)%10!==0&&(c-7)%10!==0||(n=v):3==a.cols?(c-1)%6===0?(m=s,n=v):(c-6)%6===0?m=s:(c-3)%6!==0&&(c-4)%6!==0||(n=v):2==a.cols&&((c-1)%10===0?(m=s,n=v):(c-6)%10===0?m=s:(c-3)%10!==0&&(c-4)%10!==0&&(c-8)%10!==0&&(c-9)%10!==0||(n=v)):3==a.metro_style&&(6==a.cols?(c-1)%8===0?(m=t,n=v):(c-3)%8===0?(m=s,n=w):(c-4)%8===0?n=v:(c-6)%8===0?(m=s,n=v):c%8===0&&(m=t):5==a.cols?(c-1)%9===0?(m=t,n=v):(c-2)%9===0?m=s:(c-4)%9===0||(c-5)%9===0?n=v:(c-6)%9===0?(m=s,n=w):(c-8)%9===0&&(m=s,n=v):4==a.cols?(c-1)%9===0?(m=t,n=v):(c-3)%9===0?m=v:(c-5)%9===0||c%9===0?m=s:(c-6)%9===0&&(m=s,n=v):3==a.cols?(c-1)%6===0?(m=s,n=v):(c-3)%6===0||(c-4)%6===0?n=v:c%6===0&&(n=s):2==a.cols&&((c-1)%8===0?(m=s,n=v):(c-2)%8===0||(c-4)%8===0?n=v:(c-6)%8===0&&(m=s)))}else"justified"==a.layout&&(m=h,n=i);2==a.style&&(g.width(m),g.css({paddingBottom:a.gapY<=17?17-a.gapY:0}),r=g.outerHeight()),d.css({width:m,height:2==a.style?n+r:n,marginTop:a.gapY}),"justified"!=a.layout&&e.css({width:m,height:n}),"grid"!=a.layout&&"metro"!=a.layout||"fixed"!=a.size?(o=m,p=n):h>i?n/i<m/h?(p=n,o=Math.round(n*h/i)):p=Math.round(m*i/h):n/i>m/h?p=Math.round(m*i/h):o=Math.round(n*h/i),"grid"!=a.layout&&"metro"!=a.layout||f.css({width:o,height:p}),2==a.style&&g.css({top:n})})}function l(a,c,d,e){var f="animated "+a.animation,g=0;"resize"==d&&(c.item=c.gallery.find(".hybgl-item")),c.item.each(function(a){var c=jQuery(this);b()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(f),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(f)},100*++g)):"filter"==d?(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(f),e&&c.hasClass(e)?setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+f)},100*++g):setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+f)},100*a)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+f)},100*a)})}function m(a,b){"isotope"==a.mode&&(f="grid"==a.layout?b.container.isotope({transitionDuration:0,resizable:!0,initLayout:!1,itemSelector:b.gIT,layoutMode:"fitRows",fitRows:{columnWidth:j(a,b),gutter:a.gapX}}):b.container.isotope({transitionDuration:0,resizable:!0,initLayout:!1,itemSelector:b.gIT,layoutMode:"masonry",masonry:{columnWidth:j(a,b),gutter:a.gapX}}),f.on("layoutComplete",function(a){}),f.isotope("layout")),"justified"==a.mode&&(g=b.container.justifiedHybGallery({selector:b.gIT,rowHeight:a.jg_rowH,maxRowHeight:a.jg_max_rowH,lastRow:a.jg_lastrow,marginsX:a.gapX,marginsY:a.gapY,border:0,captions:!1,waitThumbnailsLoad:!1,imagesAnimationDuration:0}))}function n(a,b){return!!b.filter.length&&void b.filter.on("click",".hybgl-filter-label",function(){var c=jQuery(this).attr("data-filter"),d=c.substring(1);l(a,b,"filter",d),"isotope"==a.mode&&f.isotope({filter:c}),"justified"==a.mode&&g.justifiedHybGallery({filter:c}),b.filter.find(".hybgl-filter-label").removeClass("hybgl-filter-label-active"),jQuery(this).addClass("hybgl-filter-label-active")})}function o(a,b){b.gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){b.wrapper.addClass("hybgl-wrapper-ready"),b.pagination.addClass("hybgl-pagination-ready"),b.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(b.gallery),l(a,b),n(a,b)},300)})}function p(b,c){if("more"==b.pagin||"scroll"==b.pagin){var d=!1;"more"==b.pagin&&(d="showmore"),c.pagination.find(".hybgl-infinite-button").each(function(){jQuery(this).click(function(){jQuery(this).find(".hybgl-pagin-more-icon").addClass("hybgl-pagin-more-icon-ready")})}),c.container.infinitescroll({navSelector:c.gPG,nextSelector:c.gPG+" a.hybgl-infinite-button",itemSelector:c.gIT,behavior:d,animate:!1,loading:{msgText:"",finishedMsg:"",loaderDiv:""}},function(d,e,g){"scroll"==b.pagin&&c.loader.addClass("hybgl-loader-offset").show().removeClass("hybgl-loader-ready");var h=jQuery(d);h.hide().hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){c.item=h,k(b,c),a(),"isotope"==b.mode&&f.isotope("appended",h),"justified"==b.mode&&(c.container.append(h),c.container.justifiedHybGallery("norewind")),"more"==b.pagin?c.pagination.find(".hybgl-pagin-more-icon").removeClass("hybgl-pagin-more-icon-ready"):"scroll"==b.pagin&&c.loader.addClass("hybgl-loader-ready").hide(),l(b,c),n(b,c)},300)})})}}function q(b,c){b.pg_ajax&&c.gallery.find(".hybgl-pagin-link").on("click",function(){c.wrapper.addClass("hybgl-wrapper-hide"),c.loader.prependTo(c.gallery).show().removeClass("hybgl-loader-ready"),jQuery("html,body").animate({scrollTop:jQuery(c.gID).offset().top},300);var d=jQuery(this).data("ajax-url");jQuery.ajax({type:"POST",dataType:"html",url:d,cache:!1,success:function(d){var g=(jQuery(d).find(c.gCT).html(),jQuery(d).find(c.gPG).html()),h=jQuery(d).find(c.gCT+" .hybgl-item");c.item=h,c.container.html(h),h.hide().hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){c.loader.removeClass("hybgl-loader-ready").hide().appendTo(c.gallery),c.pagination.html(g).hide(),c.wrapper.removeClass("hybgl-wrapper-hide"),k(b,c),a(),"isotope"==b.mode&&f.isotope("prepended",h).isotope("layout"),"justified"==b.mode&&c.container.justifiedHybGallery({selector:c.gIT,rowHeight:b.jg_rowH,maxRowHeight:b.jg_max_rowH,marginsX:b.gapX,marginsY:b.gapY,border:0,captions:!1,waitThumbnailsLoad:!1,imagesAnimationDuration:0}),l(b,c),n(b,c),setTimeout(function(){c.pagination.show()},300),q(b,c)},300)})}})})}var f,g,d=this,e={mode:"isotope",layout:"grid",size:"equal",metro_style:1,jg_rowH:240,jg_max_rowH:!1,jg_lastrow:"nojustify",cols:3,gapX:10,gapY:10,pagin:!1,pg_ajax:!1,animation:"fadeInUp",ratio:"1-1",style:1,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};d.each(function(){var a=jQuery(this),b={mode:void 0!==a.data("mode")?a.data("mode"):e.mode,layout:void 0!==a.data("layout")?a.data("layout"):e.layout,size:void 0!==a.data("size")?a.data("size"):e.size,metro_style:void 0!==a.data("metro-style")?a.data("metro-style"):e.metro_style,jg_rowH:void 0!==a.data("rowheight")?a.data("rowheight"):e.jg_rowH,jg_max_rowH:void 0!==a.data("max-rowheight")?a.data("max-rowheight"):e.jg_max_rowH,jg_lastrow:void 0!==a.data("lastrow")?a.data("lastrow"):e.jg_lastrow,cols:void 0!==a.data("cols")?a.data("cols"):e.cols,gapX:void 0!==a.data("gap-x")?a.data("gap-x"):e.gapX,gapY:void 0!==a.data("gap-y")?a.data("gap-y"):e.gapY,pagin:void 0!==a.data("pagin")?a.data("pagin"):e.pagin,pg_ajax:void 0!==a.data("pagin-ajax")?a.data("pagin-ajax"):e.pg_ajax,animation:void 0!==a.data("animation")?a.data("animation"):e.animation,ratio:void 0!==a.data("ratio")?a.data("ratio").split("-",2):e.ratio.split("-",2),style:void 0!==a.data("style")?a.data("style"):e.style,design:void 0!==a.data("design")?a.data("design").replace(/#/g,'"'):e.design.replace(/#/g,'"'),res:void 0!==a.data("res")?a.data("res"):e.res},c={gw:a.parent().width(),ww:jQuery(window).width(),cw:"100%",gallery:a,loader:a.find(".hybgl-loader"),pagination:a.find(".hybgl-pagination"),wrapper:a.find(".hybgl-wrapper"),container:a.find(".hybgl-container"),item:a.find(".hybgl-item"),filter:a.find(".hybgl-filter-items"),gID:"."+a.data("selector"),gWR:"."+a.data("selector")+" .hybgl-wrapper",gCT:"."+a.data("selector")+" .hybgl-container",gIT:"."+a.data("selector")+" .hybgl-item",gPG:"."+a.data("selector")+" .hybgl-pagination"};c.container.css({marginTop:-b.gapY}),h(b,c),k(b,c),m(b,c),o(b,c),p(b,c),q(b,c),jQuery(window).on("resize.$this",function(){jQuery(this).width()!=c.ww&&(c.gw=a.parent().width(),c.ww=jQuery(window).width(),h(b,c),k(b,c,"resize"),m(b,c))})})},jQuery.fn.HybridGalleryCarousel=function(a){function e(a,b){var c=JSON.parse(a.design),e=(f(a,b,"align")?f(a,b,"align"):c.align,"hybgl-box-align-"),g=["none","left","center","right"];for(var h in g)b.gallery.hasClass(e+g[h])&&b.gallery.removeClass(e+g[h]);f(a,b,"align")?b.gallery.addClass(e+f(a,b,"align")):b.gallery.addClass(e+c.align),"custom"==f(a,b,"w")?b.cw="%"==f(a,b,"w_un")?b.gw*f(a,b,"w_vl")/100:f(a,b,"w_vl"):(b.cw="pc"==c.w_un?b.gw*c.w_vl/100:c.w_vl,c.w_un="pc"==c.w_un?"%":b.gw*c.w_un),b.gallery.css({width:b.cw})}function f(a,b,c){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,f,g,h,i,d=JSON.parse(a.res.replace(/#/g,'"'));for(var j in d)if("custom"==d[j].w&&b.ww<=j){e=d[j].w,f=d[j].w_vl,g="pc"==d[j].w_un?"%":d[j].w_un;break}for(var k in d)if("auto"!=d[k].cols&&b.ww<=k){h=d[k].cols;break}for(var l in d)if("auto"!=d[l].align&&b.ww<=l){i=d[l].align;break}return"cols"==c?h:"w"==c?e:"w_vl"==c?f:"w_un"==c?g:"align"==c?i:void 0}function g(a,b,c){var e,g,d=JSON.parse(a.design);e="custom"==f(a,b,"w")?"%"==f(a,b,"w_un")?b.gw*f(a,b,"w_vl")/100:f(a,b,"w_vl"):"pc"==d.w_un?b.gw*d.w_vl/100:d.w_vl,g=f(a,b,"cols")?f(a,b,"cols"):a.cols;var h=(e-(g-1)*a.gap)/g,i="cell"==c?g:h;return i}function h(a,b){b.item.each(function(c){c+=1;var o,p,r,d=jQuery(this),e=jQuery(this).find(".hybgl-item-wrapper"),f=jQuery(this).find(".hybgl-item-inner"),h=jQuery(this).find(".hybgl-item-meta"),i=d.data("w"),j=d.data("h"),k=a.ratio[0],l=a.ratio[1],m=i,n=j;m=g(a,b),n="auto"==a.size?Math.round(g(a,b)*j/i):Math.round(g(a,b)*l/k),2==a.style&&(h.width(m),h.css({paddingBottom:a.gap<=17?17-a.gap:0}),r=h.outerHeight()),d.css({height:2==a.style?n+r:n,marginLeft:a.gap/2,marginRight:a.gap/2}),e.css({height:n}),"fixed"==a.size&&(i>j?n/j<m/i?(p=n,o=Math.round(n*i/j)):p=Math.round(m*j/i):n/j>m/i?p=Math.round(m*j/i):o=Math.round(n*i/j),f.css({width:o,height:p})),2==a.style&&h.css({top:n})})}function i(a,c,d,e){var f="animated "+a.animation,g=0;c.gallery.find(".hybgl-item").each(function(a){var c=jQuery(this);b()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(f),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(f)},100*++g)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+f)},100*a)})}function j(a,b){return!!a.nav&&(b.gallery.find(".hybgl-arrows-left").click(function(){b.containerInner.slick("slickPrev")}),void b.gallery.find(".hybgl-arrows-right").click(function(){b.containerInner.slick("slickNext")}))}function k(a,b){var c;if(a.res){var d=JSON.parse(a.res.replace(/#/g,'"'));c=[],jQuery.each(d,function(a,b){d[a].cols&&"auto"!=d[a].cols&&(c[a]={breakpoint:a,settings:{slidesToShow:d[a].cols}})})}else c=!1;b.containerInner.on("init",function(a,b){}).on("afterChange",function(a,b,c){}).slick({infinite:a.centermode,slidesToShow:a.cols,slidesToScroll:a.cols,speed:300,centerMode:a.centermode,centerPadding:0,customPaging:function(a,b){return jQuery('<span class="hybgl-dot-bullet"></span>')},dotsClass:"hybgl-dots",dots:a.dots,arrows:!1,adaptiveHeight:!1,responsive:c}),j(a,b)}function l(a,b){"auto"==a.size&&b.item.each(function(){var a=jQuery(this),c=(b.container.height()-a.height())/2;a.css({marginTop:c})})}function m(a,b){b.gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){b.wrapper.addClass("hybgl-wrapper-ready"),b.pagination.addClass("hybgl-pagination-ready"),b.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(b.gallery),b.item=b.gallery.find(".hybgl-item"),i(a,b)},300)})}var c=this,d={size:"equal",ratio:"1-1",cols:3,gap:10,centermode:!1,nav:!0,dots:!1,animation:"fadeInUp",style:1,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};c.each(function(){var a=jQuery(this),b={size:void 0!==a.data("size")?a.data("size"):d.size,ratio:void 0!==a.data("ratio")?a.data("ratio").split("-",2):d.ratio.split("-",2),cols:void 0!==a.data("cols")?a.data("cols"):d.cols,gap:void 0!==a.data("gap")?a.data("gap"):d.gap,centermode:void 0!==a.data("centermode")?a.data("centermode"):d.centermode,nav:void 0!==a.data("nav")?a.data("nav"):d.nav,dots:void 0!==a.data("dots")?a.data("dots"):d.dots,animation:void 0!==a.data("animation")?a.data("animation"):d.animation,style:void 0!==a.data("style")?a.data("style"):d.style,design:void 0!==a.data("design")?a.data("design").replace(/#/g,'"'):d.design.replace(/#/g,'"'),res:void 0!==a.data("res")?a.data("res"):d.res},c={gw:a.parent().width(),ww:jQuery(window).width(),cw:"100%",gallery:a,loader:a.find(".hybgl-loader"),pagination:a.find(".hybgl-pagination"),wrapper:a.find(".hybgl-wrapper"),container:a.find(".hybgl-container"),containerInner:a.find(".hybgl-container-inner"),item:a.find(".hybgl-item"),gID:"."+a.data("selector"),gWR:"."+a.data("selector")+" .hybgl-wrapper",gCT:"."+a.data("selector")+" .hybgl-container",gCTIN:"."+a.data("selector")+" .hybgl-container-inner",gIT:"."+a.data("selector")+" .hybgl-item",gPG:"."+a.data("selector")+" .hybgl-pagination"};c.container.css({marginLeft:-b.gap/2,marginRight:-b.gap/2}),e(b,c),h(b,c),k(b,c),l(b,c),m(b,c),jQuery(window).on("resize.$this",function(){jQuery(this).width()!=c.ww&&(c.gw=a.parent().width(),c.ww=jQuery(window).width(),e(b,c),h(b,c),l(b,c))})})},jQuery.fn.HybridGallerySlider=function(a){function e(a,b){var c=JSON.parse(a.design),e=(f(a,b,"align")?f(a,b,"align"):c.align,"hybgl-box-align-"),g=["none","left","center","right"];for(var h in g)b.gallery.hasClass(e+g[h])&&b.gallery.removeClass(e+g[h]);f(a,b,"align")?b.gallery.addClass(e+f(a,b,"align")):b.gallery.addClass(e+c.align),"custom"==f(a,b,"w")?b.cw="%"==f(a,b,"w_un")?b.gw*f(a,b,"w_vl")/100:f(a,b,"w_vl"):(b.cw="pc"==c.w_un?b.gw*c.w_vl/100:c.w_vl,c.w_un="pc"==c.w_un?"%":b.gw*c.w_un),b.gallery.css({width:b.cw})}function f(a,b,c){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,f,g,h,i,d=JSON.parse(a.res.replace(/#/g,'"'));for(var j in d)if("custom"==d[j].w&&b.ww<=j){e=d[j].w,f=d[j].w_vl,g="pc"==d[j].w_un?"%":d[j].w_un;break}for(var k in d)if("auto"!=d[k].cols&&b.ww<=k){h=d[k].cols;break}for(var l in d)if("auto"!=d[l].align&&b.ww<=l){i=d[l].align;break}return"cols"==c?h:"w"==c?e:"w_vl"==c?f:"w_un"==c?g:"align"==c?i:void 0}function g(a,b,c){a.thumbs||(b.gCTCHIN=!1),b.containerInner.on("afterChange",function(c,d,e,f){if("adaptive"==a.mode){var g=b.containerInner.find(".slick-list").height()+a.thumbsGap;k(a,b,"resize",g),jQuery(window).resize(function(){k(a,b,"resize",g)})}}).slick({infinite:a.thumbs,slidesToShow:1,slidesToScroll:1,speed:300,centerMode:!1,centerPadding:!1,customPaging:function(a,b){return jQuery('<span class="hybgl-dot-bullet"></span>')},dotsClass:"hybgl-dots",dots:a.dots,arrows:!1,adaptiveHeight:!0,asNavFor:b.gCTCHIN,variableWidth:!0}),o(a,b)}function h(a,b){if(1!=a.thumbs)return!1;var c=!0;a.thumbsVertical&&(c=!1),b.containerChildInner.slick({infinite:!0,slidesToShow:i(a,b),slidesToScroll:1,speed:300,centerMode:!0,centerPadding:!1,dots:!1,arrows:!1,focusOnSelect:!0,vertical:a.thumbsVertical,variableWidth:c,asNavFor:b.gCTIN})}function i(a,b){b.ctw=b.gallery.find(".hybgl-container").width();var c=15;return a.thumbsVertical||(c=Math.floor((b.ctw+a.thumbsGap)/(a.thumbsWidth+a.thumbsGap))),c}function j(a,b,c){b.ctw=b.gallery.find(".hybgl-container").width();var d=a.ratio[0],e=a.ratio[1],f=Math.round(b.ctw*e/d);"resize"==c&&b.containerInner.find(".slick-list").css({height:f})}function k(a,b,c,d){b.ctw=b.gallery.find(".hybgl-container").width();var e=a.ratio[0],f=a.ratio[1],g=Math.round(b.ctw*f/e);a.thumbsVertical?(b.containerChild.css({width:a.thumbsWidth+a.thumbsGap,marginRight:-(a.thumbsWidth+a.thumbsGap)}),b.containerChildInner.css({marginTop:-a.thumbsGap/2,marginBottom:-a.thumbsGap/2}),"fixed"==a.mode&&b.containerChildInner.css({height:g+a.thumbsGap})):b.containerChildInner.css({marginTop:a.thumbsGap}),"resize"==c&&(a.thumbsVertical?("adaptive"==a.mode&&(d&&(g=d),b.containerChildInner.css({height:g})),b.containerChildInner.find(".slick-list").css({height:g})):b.containerChildInner.find(".slick-list").css({height:a.thumbsHeight}))}function l(a,b){a.thumbsVertical&&b.wrapper.css({marginRight:a.thumbsWidth+a.thumbsGap}),b.ctw=b.gallery.find(".hybgl-container").width(),b.item.each(function(c){c+=1;var k,l,d=jQuery(this),e=jQuery(this).find(".hybgl-item-inner"),f=d.data("w"),g=d.data("h"),h=a.ratio[0],i=a.ratio[1],j="adaptive"==a.mode?Math.round(b.ctw*g/f):Math.round(b.ctw*i/h),m=Math.round(b.ctw*i/h);d.css({width:b.ctw,height:j}),"fixed"==a.mode&&(f>g?m/g<b.ctw/f?(l=m,k=Math.round(m*f/g)):l=Math.round(b.ctw*g/f):m/g>b.ctw/f?l=Math.round(b.ctw*g/f):k=Math.round(m*f/g),e.css({width:k,height:l}))})}function m(a,b){b.itemChild=b.gallery.find(".hybgl-child-item"),b.itemChild.each(function(b){b+=1;var c=jQuery(this),d=jQuery(this).find(".hybgl-item-inner");c.data("w"),c.data("h"),a.ratio[0],a.ratio[1];a.thumbsVertical?c.css({width:a.thumbsWidth,height:a.thumbsHeight,marginTop:a.thumbsGap/2,marginBottom:a.thumbsGap/2,marginLeft:a.thumbsGap}):c.css({width:a.thumbsWidth,height:a.thumbsHeight,marginLeft:a.thumbsGap/2,marginRight:a.thumbsGap/2}),d.css({width:a.thumbsWidth,height:a.thumbsHeight})})}function n(a,b){b.gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){b.pagination.addClass("hybgl-pagination-ready"),b.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(b.gallery),b.gallery.addClass("hybgl-box-ready"),b.wrapper.addClass("hybgl-wrapper-ready"),b.item=b.gallery.find(".hybgl-item"),p(a,b)},300)})}function o(a,b){return!!a.nav&&(b.gallery.find(".hybgl-arrows-left").click(function(){b.containerInner.slick("slickPrev")}),void b.gallery.find(".hybgl-arrows-right").click(function(){b.containerInner.slick("slickNext")}))}function p(a,c,d){var e="animated "+a.animationMain,f="animated "+a.animationChild,g="animated "+a.metaAnimation,h=0;c.gallery.find(".hybgl-main-item").each(function(a){var c=jQuery(this);b()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(e),c.find(".hybgl-item-meta").removeClass(g),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(e),c.find(".hybgl-item-meta").addClass(g)},100*a)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+e),c.find(".hybgl-item-meta").addClass("hybgl-animate "+g)},100*a)}),c.gallery.find(".hybgl-child-item").each(function(a){var c=jQuery(this);b()?c.hasClass("hybgl-animation-ready")||c.addClass("hybgl-animation-ready"):"resize"==d?c.hasClass("hybgl-animation-ready")&&(c.removeClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").removeClass(f),setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass(f)},100*++h)):c.hasClass("hybgl-animation-ready")||setTimeout(function(){c.addClass("hybgl-animation-ready"),c.find(".hybgl-item-inner").addClass("hybgl-animate "+f)},100*a)})}var c=this,d={mode:"fixed",thumbs:!0,thumbsWidth:80,thumbsHeight:80,thumbsVertical:!1,thumbsGap:10,nav:!1,dots:!0,ratio:"1-1",animationMain:"fadeInUp",animationChild:"zoomIn",metaAnimation:"slideInUp",design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};c.each(function(){var a=jQuery(this),b={mode:void 0!==a.data("mode")?a.data("mode"):d.mode,thumbs:void 0!==a.data("thumbs")?a.data("thumbs"):d.thumbs,thumbsWidth:void 0!==a.data("thumbs-width")?a.data("thumbs-width"):d.thumbsWidth,thumbsHeight:void 0!==a.data("thumbs-height")?a.data("thumbs-height"):d.thumbsHeight,thumbsVertical:void 0!==a.data("thumbs-vertical")?a.data("thumbs-vertical"):d.thumbsVertical,thumbsGap:void 0!==a.data("thumbs-gap")?a.data("thumbs-gap"):d.thumbsGap,nav:void 0!==a.data("nav")?a.data("nav"):d.nav,dots:void 0!==a.data("dots")?a.data("dots"):d.dots,ratio:void 0!==a.data("ratio")?a.data("ratio").split("-",2):d.ratio.split("-",2),animationMain:void 0!==a.data("animation-main")?a.data("animation-main"):d.animationMain,animationChild:void 0!==a.data("animation-child")?a.data("animation-child"):d.animationChild,metaAnimation:void 0!==a.data("meta-animation")?a.data("meta-animation"):d.metaAnimation,design:void 0!==a.data("design")?a.data("design").replace(/#/g,'"'):d.design.replace(/#/g,'"'),res:void 0!==a.data("res")?a.data("res"):d.res},c={gw:a.parent().width(),ww:jQuery(window).width(),ctw:a.find(".hybgl-container").width(),ctCHw:a.find(".hybgl-child-container").width(),cw:"100%",gallery:a,loader:a.find(".hybgl-loader"),pagination:a.find(".hybgl-pagination"),wrapper:a.find(".hybgl-wrapper"),container:a.find(".hybgl-container"),containerInner:a.find(".hybgl-container-inner"),containerChild:a.find(".hybgl-child-container"),containerChildInner:a.find(".hybgl-child-container-inner"),item:a.find(".hybgl-main-item"),itemChild:a.find(".hybgl-child-item"),gID:"."+a.data("selector"),gWR:"."+a.data("selector")+" .hybgl-wrapper",gCT:"."+a.data("selector")+" .hybgl-container",gCTIN:"."+a.data("selector")+" .hybgl-container-inner",gCTCH:"."+a.data("selector")+" .hybgl-child-container",gCTCHIN:"."+a.data("selector")+" .hybgl-child-container-inner",gIT:"."+a.data("selector")+" .hybgl-main-item",gITCH:"."+a.data("selector")+" .hybgl-child-item",gPG:"."+a.data("selector")+" .hybgl-pagination"};e(b,c),l(b,c),g(b,c),j(b,c),m(b,c),k(b,c),h(b,c),n(b,c),jQuery(window).on("resize.$this",function(){jQuery(this).width()!=c.ww&&(c.gw=a.parent().width(),c.ww=jQuery(window).width(),c.ctw=a.find(".hybgl-container").width(),e(b,c),l(b,c),j(b,c,"resize"),m(b,c),k(b,c,"resize"))})})},jQuery.extend(jQuery.infinitescroll.prototype,{_setup_showmore:function(){var b=this.options,c=this;jQuery(b.nextSelector).click(function(a){1!=a.which||a.metaKey||a.shiftKey||(a.preventDefault(),c.retrieve())}),c.options.loading.start=function(a){a.loading.msg.appendTo(a.loading.selector).show(a.loading.speed,function(){c.beginAjax(a)})}},_showdonemsg_showmore:function(){var b=this.options;b.loading.msg.find("img").hide().parent().find("div").html(b.loading.finishedMsg).animate({opacity:1},0,function(){jQuery(this).parent().fadeOut("0")}),jQuery(b.navSelector).fadeOut("0"),b.errorCallback.call(jQuery(b.contentSelector)[0],"done")}}),jQuery(document).ready(function(){a()}),jQuery(window).load(function(){jQuery(".hybgl-mode-grid").HybridGalleryGrid(),jQuery(".hybgl-mode-carousel").HybridGalleryCarousel(),jQuery(".hybgl-mode-slider").HybridGallerySlider()})});